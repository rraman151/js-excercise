<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Receipt Generation - Rohit</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Roboto Mono', monospace;
      background-color: #f4f8fa;
      color: #2c3e50;
      padding: 40px;
      line-height: 1.6;
    }

    h1 {
      color: #1f4e79;
    }

    h2 {
      color: #34495e;
      margin-top: 30px;
    }

    a {
      color: #2980b9;
      font-weight: bold;
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }

    button {
      padding: 10px 20px;
      font-size: 16px;
      background-color: #3498db;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      margin-top: 10px;
      transition: background-color 0.3s ease;
    }

    button:hover {
      background-color: #2c80b4;
    }

    #results {
      white-space: pre-wrap;
      background: #fefefe;
      padding: 1em;
      border: 1px solid #ddd;
      margin-top: 20px;
      border-radius: 6px;
      font-family: 'Roboto Mono', monospace;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }

    hr {
      margin: 30px 0;
      border: none;
      border-top: 1px solid #ccc;
    }

    code {
      background-color: #eef;
      padding: 2px 6px;
      border-radius: 4px;
    }
  </style>
</head>
<body>
  <h1>Receipt Generation</h1>
  <a href="../index.html">Home</a>

  <h2>Part 1</h2>
  <p>
    Create a JavaScript function called <code>formatUSD</code> that accepts a numeric input parameter called <code>price</code> (e.g. 4.6777),
    and returns that price as a string formatted with a dollar sign and rounded to two decimals (e.g "$4.68").
  </p>
  <p>
    Invoke the function, passing a price of 4.6777, and log the resulting formatted value in the console.
  </p>

  <hr>

  <h2>Part 2</h2>
  <p>
    Create a JavaScript function called <code>formatPct</code> that accepts a numeric input parameter called <code>percentage</code> in decimal format (e.g. 0.0875),
    and returns that percentage as a string formatted with a percent sign and rounded to two decimals (e.g. "8.75%").
  </p>
  <p>
    Invoke the function, passing a percentage of 0.0875, and log the resulting formatted value in the console.
  </p>

  <hr>

  <h2>Part 3</h2>
  <p>
    You are buying some groceries at the corner store. The subtotal of all the items you purchased was $19.41.
  </p>
  <p>
    Write JavaScript code that models this concept in a variable,
    calculates tax using a tax rate of 8.75%,
    and calculates the total amount owed (equal to the subtotal plus the amount of tax due).
  </p>
  <p>
    Log the subtotal (i.e. "$19.41"), tax rate (i.e. "8.75%"), tax owed (i.e. $1.70), and total amount (i.e. "$21.11") to the console.
    When logging, format all prices as USD, with dollar sign and rounded to two decimal places (using the function from Part 1),
    and format the tax rate as a percentage (using the function from Part 2).
  </p>

  <hr>

  <h2>Part 4</h2>
  <p>
    Create a JavaScript function called <code>generateReceipt</code>
    that takes input parameters called <code>subtotal</code> and <code>taxRate</code>,
    and returns an <strong>object</strong> datatype containing the subtotal, tax rate, tax, and total as numeric values.
    The function's tax rate parameter should use a default value of 0.0875.
  </p>
  <p>
    Invoke the function, using a subtotal of $19.41, and store the resulting receipt object in a variable called <code>receipt</code>.
    Log the subtotal, tax owed, and total amount to the console.
    When logging, format all prices as USD, with dollar sign and rounded to two decimal places (using the function from Part 1),
    and format the tax rate as a percentage (using the function from Part 2).
  </p>

  <hr>

  <h2>Receipt Generator</h2>
  <p>Click the button below to run Part 1–4 all at once.</p>
  <button id="generate-receipt-btn">Generate Receipt</button>

  <div id="results"></div>

  <script>
    const formatUSD = price => `$${price.toFixed(2)}`;
    const formatPct = pct => `${(pct * 100).toFixed(2)}%`;

    function generateReceipt(subtotal, taxRate = 0.0875) {
      const tax = subtotal * taxRate;
      return { subtotal, taxRate, tax, total: subtotal + tax };
    }

    const btn = document.getElementById('generate-receipt-btn');
    const resultsEl = document.getElementById('results');

    function output(line = '') {
      console.log(line);
      resultsEl.textContent += line + '\n';
    }

    btn.addEventListener('click', () => {
      console.clear();
      resultsEl.textContent = '';

      output('--- Part 1 ---');
      output(`formatUSD(4.6777) → ${formatUSD(4.6777)}`);
      output('');

      output('--- Part 2 ---');
      output(`formatPct(0.0875) → ${formatPct(0.0875)}`);
      output('');

      output('--- Part 3 ---');
      const subtotal = 19.41;
      const taxRate = 0.0875;
      const taxOwed = subtotal * taxRate;
      const total = subtotal + taxOwed;
      output(`Subtotal: ${formatUSD(subtotal)}`);
      output(`Tax rate: ${formatPct(taxRate)}`);
      output(`Tax owed: ${formatUSD(taxOwed)}`);
      output(`Total: ${formatUSD(total)}`);
      output('');

      output('--- Part 4 ---');
      const receipt = generateReceipt(subtotal);
      output(`Receipt object → ${JSON.stringify(receipt)}`);
      output(`Subtotal: ${formatUSD(receipt.subtotal)}`);
      output(`Tax owed: ${formatUSD(receipt.tax)}`);
      output(`Total: ${formatUSD(receipt.total)}`);
    });
  </script>
</body>
</html>
